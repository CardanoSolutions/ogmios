<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.76.5"><meta name=description content="User manual for Ogmios, a lightweight protocol translation service for Cardano."><meta name=author content="KtorZ <matthias.benkort@gmail.com>"><link rel=icon href=/images/favicon.png type=image/png><title>TxSubmission Client - Ogmios</title><link href=/css/nucleus.css?1660301414 rel=stylesheet><link href=/css/fontawesome-all.min.css?1660301414 rel=stylesheet><link href=/css/hybrid.css?1660301414 rel=stylesheet><link href=/css/featherlight.min.css?1660301414 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1660301414 rel=stylesheet><link href=/css/auto-complete.css?1660301414 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1660301414 rel=stylesheet><link href=/css/theme.css?1660301414 rel=stylesheet><link href=/css/tabs.css?1660301414 rel=stylesheet><link href=/css/hugo-theme.css?1660301414 rel=stylesheet><link href=/css/theme-mine.css?1660301414 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1660301414></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/typescript-client/tx-submission/><nav id=sidebar><div id=header-wrapper><div id=header><a href=/><img alt=ogmios src=/ogmios-logo-white.png></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1660301414></script><script type=text/javascript src=/js/auto-complete.js?1660301414></script><script type=text/javascript>var baseurl="https:\/\/ogmios.dev";</script><script type=text/javascript src=/js/search.js?1660301414></script></div><div class=highlightable><ul class=topics><li data-nav-id=/getting-started/ title="Getting Started" class=dd-item><a href=/getting-started/><b>1. </b>Getting Started</a><ul><li data-nav-id=/getting-started/docker/ title=Docker class=dd-item><a href=/getting-started/docker/>Docker</a></li><li data-nav-id=/getting-started/building/ title=Building class=dd-item><a href=/getting-started/building/>Building</a></li><li data-nav-id=/getting-started/testing/ title=Testing class=dd-item><a href=/getting-started/testing/>Testing</a></li><li data-nav-id=/getting-started/monitoring/ title=Monitoring class=dd-item><a href=/getting-started/monitoring/>Monitoring</a></li><li data-nav-id=/getting-started/basics/ title=Basics class=dd-item><a href=/getting-started/basics/>Basics</a></li></ul></li><li data-nav-id=/mini-protocols/ title="Ouroboros Mini-Protocols" class=dd-item><a href=/mini-protocols/><b>2. </b>Ouroboros Mini-Protocols</a><ul><li data-nav-id=/mini-protocols/local-chain-sync/ title="Local Chain Sync" class=dd-item><a href=/mini-protocols/local-chain-sync/>Local Chain Sync</a></li><li data-nav-id=/mini-protocols/local-state-query/ title="Local State Query" class=dd-item><a href=/mini-protocols/local-state-query/>Local State Query</a></li><li data-nav-id=/mini-protocols/local-tx-submission/ title="Local Tx Submission" class=dd-item><a href=/mini-protocols/local-tx-submission/>Local Tx Submission</a></li><li data-nav-id=/mini-protocols/local-tx-monitor/ title="Local Tx Monitor" class=dd-item><a href=/mini-protocols/local-tx-monitor/>Local Tx Monitor</a></li></ul></li><li data-nav-id=/deployment/ title=Deployment class=dd-item><a href=/deployment/><b>4. </b>Deployment</a><ul><li data-nav-id=/deployment/aws/ title=AWS class=dd-item><a href=/deployment/aws/>AWS</a></li></ul></li><li data-nav-id=/typescript-client/ title="TypeScript Client" class="dd-item
parent"><a href=/typescript-client/><b>4. </b>TypeScript Client</a><ul><li data-nav-id=/typescript-client/overview/ title=Overview class=dd-item><a href=/typescript-client/overview/>Overview</a></li><li data-nav-id=/typescript-client/chain-sync/ title="ChainSync Client" class=dd-item><a href=/typescript-client/chain-sync/>ChainSync Client</a></li><li data-nav-id=/typescript-client/state-query/ title="StateQuery Client" class=dd-item><a href=/typescript-client/state-query/>StateQuery Client</a></li><li data-nav-id=/typescript-client/tx-submission/ title="TxSubmission Client" class="dd-item active"><a href=/typescript-client/tx-submission/>TxSubmission Client</a></li><li data-nav-id=/typescript-client/tx-monitor/ title="TxMonitor Client" class=dd-item><a href=/typescript-client/tx-monitor/>TxMonitor Client</a></li></ul></li><li data-nav-id=/api/ title="API Reference" class=dd-item><a href=/api/><b>5. </b>API Reference</a></li><li data-nav-id=/changelog/ title=Changelog class=dd-item><a href=/changelog/><b>6. </b>Changelog</a></li><li data-nav-id=/faq/ title=F.A.Q class=dd-item><a href=/faq/><b>7. </b>F.A.Q</a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/cardanosolutions/ogmios><i class="fab fa-github"></i>Source code</a></li><li><a class=padding href=https://github.com/cardanosolutions/ogmios/issues><i class="fab fa-solid fa-bullseye"></i>Issues Tracking</a></li><li><a class=padding href=https://discord.gg/ZeyDn65t5v><i class="fab fa-discord"></i>Discord (#ogmios)</a></li><li><a class=padding href=https://github.com/CardanoSolutions/ogmios/tree/master/architectural-decisions/accepted><i class="fab fa-solid fa-file-code"></i>Architectural Decisions Record</a></li></ul></section><section id=footer><style>i.fa-solid{margin-left:-2px!important;margin-right:-2px!important}</style></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>Overview</a> > <a href=/typescript-client/>TypeScript Client</a> > TxSubmission Client</span></div><div class=progress><div class=wrapper><nav id=TableOfContents></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>TxSubmission Client</h1><p>Similarly to the other two clients, a <a href=/api/interfaces/_cardano_ogmios_client.TxSubmission.TxSubmissionClient.html><code>TxSubmissionClient</code></a> can be created from an <a href=/api/interfaces/_cardano_ogmios_client.InteractionContext.html><code>InteractionContext</code></a> (see the <a href=/typescript-client/overview>Overview</a> section for more details).</p><p>Once created, it allows for submitting already serialized transactions to the network. The format it accepts is a CBOR-serialized Cardano transaction, as obtained from the cardano-cli or
the <a href=https://github.com/Emurgo/cardano-serialization-lib>cardano-serialization-lib</a>, in either <code>base16</code> or <code>base64</code>.</p><p>In case of success, the transaction is submitted to the network and should eventually be inserted in the ledger. Submitting transactions through Ogmios does indeed give you strong guarantees since behind the scene, the transaction gets fully validated by a Cardano node which has its own ledger. In case of error, the transaction is rejected with one of the many error causes in Cardano. You can find all the possible errors in the <a href=/typescript/api/modules/_cardano_ogmios_client.TxSubmission.html#SubmitTxErrorShelley>API reference</a>.</p><p>Errors are also conveniently exported from the client so that it is easy to assert the type of an error response. For example:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>createTxSubmissionClient</span>, <span style=color:#a6e22e>TxSubmission</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;@cardano-ogmios/client&#39;</span>

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>client</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>createTxSubmissionClient</span>(<span style=color:#a6e22e>context</span>)

<span style=color:#66d9ef>try</span> {
  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>client</span>.<span style=color:#a6e22e>submitTx</span>(<span style=color:#a6e22e>toCBOR</span>(<span style=color:#a6e22e>tx</span>))
} <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>error</span>) {
  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>error</span>[<span style=color:#ae81ff>0</span>]).<span style=color:#a6e22e>toBeInstanceOf</span>(<span style=color:#a6e22e>TxSubmission</span>.<span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>BadInputs</span>.Error)
  <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>expect</span>(<span style=color:#a6e22e>error</span>[<span style=color:#ae81ff>1</span>]).<span style=color:#a6e22e>toBeInstanceOf</span>(<span style=color:#a6e22e>TxSubmission</span>.<span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>ValueNotConserved</span>.Error)
}
</code></pre></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/typescript-client/state-query/ title="StateQuery Client"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/typescript-client/tx-monitor/ title="TxMonitor Client" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1660301414></script><script src=/js/perfect-scrollbar.min.js?1660301414></script><script src=/js/perfect-scrollbar.jquery.min.js?1660301414></script><script src=/js/jquery.sticky.js?1660301414></script><script src=/js/featherlight.min.js?1660301414></script><script src=/js/highlight.pack.js?1660301414></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1660301414></script><script src=/js/learn.js?1660301414></script><script src=/js/hugo-learn.js?1660301414></script></body></html>