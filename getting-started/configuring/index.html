<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.76.5"><meta name=description content="User manual for Ogmios, a lightweight protocol translation service for Cardano."><meta name=author content="KtorZ <matthias.benkort@gmail.com>"><link rel=icon href=/images/favicon.png type=image/png><title>Configuring - Ogmios</title><link href=/css/nucleus.css?1708512685 rel=stylesheet><link href=/css/fontawesome-all.min.css?1708512685 rel=stylesheet><link href=/css/hybrid.css?1708512685 rel=stylesheet><link href=/css/featherlight.min.css?1708512685 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1708512685 rel=stylesheet><link href=/css/auto-complete.css?1708512685 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1708512685 rel=stylesheet><link href=/css/theme.css?1708512685 rel=stylesheet><link href=/css/tabs.css?1708512685 rel=stylesheet><link href=/css/hugo-theme.css?1708512685 rel=stylesheet><link href=/css/theme-mine.css?1708512685 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1708512685></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><style type=text/css>table.clients img{width:96px!important;height:96px!important}@media(max-width:900px){table.clients tr{display:flex;flex-direction:column}table.clients img{width:128px!important;height:128px!important}}table.users{text-align:center;table-layout:fixed;border:none;border-collapse:collapse}table.users td{padding:0;border:none}table.users img{min-width:100px;max-width:100px;max-height:100px;margin:1rem auto!important;border-radius:50%}@media(max-width:1200px){table.users img{min-width:70px;max-width:70px;max-height:70px;margin:.75rem auto!important}table.users tr:nth-child(2n){display:none}}@media(max-width:900px){table.users img{min-width:60px;max-width:60px;max-height:60px;margin:.5rem auto!important}}@media(max-width:500px){table.users img{min-width:40px;max-width:40px;max-height:40px;margin:.5rem .25rem}}</style></head><body data-url=/getting-started/configuring/><nav id=sidebar><div id=header-wrapper><div id=header><a href=/><img alt=ogmios src=/ogmios__light.png></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1708512685></script><script type=text/javascript src=/js/auto-complete.js?1708512685></script><script type=text/javascript>var baseurl="https:\/\/ogmios.dev";</script><script type=text/javascript src=/js/search.js?1708512685></script></div><div class=highlightable><ul class=topics><li data-nav-id=/getting-started/ title="Getting started" class="dd-item
parent"><a href=/getting-started/><b>1. </b>Getting started</a><ul><li data-nav-id=/getting-started/building/ title="Building / Installation" class=dd-item><a href=/getting-started/building/>Building / Installation</a></li><li data-nav-id=/getting-started/configuring/ title=Configuring class="dd-item active"><a href=/getting-started/configuring/>Configuring</a></li><li data-nav-id=/getting-started/docker/ title="Running with Docker" class=dd-item><a href=/getting-started/docker/>Running with Docker</a></li><li data-nav-id=/getting-started/monitoring/ title=Monitoring class=dd-item><a href=/getting-started/monitoring/>Monitoring</a></li><li data-nav-id=/getting-started/basics/ title="Using: JSON-RPC basics" class=dd-item><a href=/getting-started/basics/>Using: JSON-RPC basics</a></li></ul></li><li data-nav-id=/mini-protocols/ title=Mini-Protocols class=dd-item><a href=/mini-protocols/><b>2. </b>Mini-Protocols</a><ul><li data-nav-id=/mini-protocols/local-chain-sync/ title="Chain synchronization" class=dd-item><a href=/mini-protocols/local-chain-sync/>Chain synchronization</a></li><li data-nav-id=/mini-protocols/local-state-query/ title="Ledger state queries" class=dd-item><a href=/mini-protocols/local-state-query/>Ledger state queries</a></li><li data-nav-id=/mini-protocols/local-tx-submission/ title="Transaction submission" class=dd-item><a href=/mini-protocols/local-tx-submission/>Transaction submission</a></li><li data-nav-id=/mini-protocols/local-tx-monitor/ title="Mempool monitoring" class=dd-item><a href=/mini-protocols/local-tx-monitor/>Mempool monitoring</a></li></ul></li><li data-nav-id=/clients/ title=Clients class=dd-item><a href=/clients/><b>3. </b>Clients</a></li><li data-nav-id=/api/ title="API Reference (v6.1.*)" class=dd-item><a href=/api/><b>4. </b>API Reference (v6.1.*)</a><ul><li data-nav-id=/api/v5.6/ title="Archive (v5.6.*)" class=dd-item><a href=/api/v5.6/>Archive (v5.6.*)</a></li></ul></li><li data-nav-id=/changelog/ title=Changelog class=dd-item><a href=/changelog/><b>5. </b>Changelog</a></li><li data-nav-id=/faq/ title=F.A.Q class=dd-item><a href=/faq/><b>6. </b>F.A.Q</a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://github.com/cardanosolutions/ogmios><i class="fab fa-github"></i>Source code</a></li><li><a class=padding href=https://github.com/cardanosolutions/ogmios/issues><i class="fas fa-solid fa-bullseye"></i>Issues Tracking</a></li><li><a class=padding href=https://discord.gg/zMr6EGvBpr><i class="fab fa-discord"></i>Discord (#ogmios)</a></li><li><a class=padding href=https://github.com/CardanoSolutions/ogmios/tree/master/architectural-decisions/accepted><i class="fas fa-solid fa-file-code"></i>Architectural Decisions Record</a></li><li><a class=padding href=https://github.com/CardanoSolutions/ogmios/tree/master/server/test/vectors><i class="fas fa-solid fa-vector-square"></i>Test vectors</a></li></ul></section><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a>from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>Overview</a> > <a href=/getting-started/>Getting started</a> > Configuring</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#logging--minimum-severity-levels>Logging & minimum severity levels</a></li><li><a href=#cbor-outputs-in-responses>CBOR outputs in responses</a></li><li><a href=#metadata-schema>Metadata schema</a></li><li><a href=#strict-json-rpc>Strict JSON-RPC</a></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Configuring</h1><p>Ogmios comes with a few options that are all configurable via the command-line. Default values for those options are meant to provide sensible behaviors that are expected in <em>most cases</em>. However, some cases may not fit your particular use-case so we recommend skimming through this short manual to understand what is configurable and the effect it has on the server.</p><h2 id=logging--minimum-severity-levels>Logging & minimum severity levels</h2><p>Ogmios comes with a multi-component tracing system, which lets you configure the minimum logging severity of various internal components:</p><p>Each component can be configured separately with a minimum severity level amongst the following values:</p><ul><li><strong>Debug</strong>: enable all the component&rsquo;s logs, sometimes useful for troubleshooting a transient issue;</li><li><strong>Info</strong>: enable only most important logs, helpful for monitoring the application;</li><li><strong>Notice</strong>: enable only special logs for uncommon, albeit normal, operations;</li><li><strong>Warning</strong>: enable only warnings, which often indicates that something is about to go wrong in the system;</li><li><strong>Error</strong>: enable only error logs, when something has actually gone wrong;</li><li><strong>Off</strong>: simply turn logging off for that component.</li></ul><div class="notices tip"><p>Usually, you&rsquo;d want to use <code>Debug</code> or <code>Info</code> as a minimal severity since more information is always good when troubleshooting problems. Ogmios uses <code>Info</code> by default for all components.</p></div><p>Here&rsquo;s a table summarizing the logging options:</p><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><code>--log-level SEVERITY</code></td><td>A shorthand that configures the severity levels of ALL components at once.</td></tr><tr><td><code>--log-level-health SEVERITY</code></td><td>Configure min severity level for the health sub-system that is periodically printing information about the state of the server.</td></tr><tr><td><code>--log-level-metrics SEVERITY</code></td><td>Configure min severity level for the system metrics, mostly only used to print warnings & notices on start-up.</td></tr><tr><td><code>--log-level-websocket SEVERITY</code></td><td>Configure min severity level for the component managing the incoming websocket connections to the server.</td></tr><tr><td><code>--log-level-server SEVERITY</code></td><td>Configure min severity level for the HTTP server managing direct connections via HTTP.</td></tr><tr><td><code>--log-level-options SEVERITY</code></td><td>Configure min severity level for anything regarding the server&rsquo;s configuration and options.</td></tr></tbody></table><p>For example, if you want to completely disable the health logging and increase the websocket minimum severity you can use the following options:</p><pre><code class=language-console data-lang=console>ogmios --log-level-health Off \
       --log-level-websocket Debug \
       ...
</code></pre><h2 id=cbor-outputs-in-responses>CBOR outputs in responses</h2><p>For some objects, Ogmios may conditionally include their CBOR-serialized representation in the response, encoded as a base16 text string. This is particularly useful when there exists multiple possible binary representations of those objects, and knowing the original bytes may be necessary to carry out specific operations (such as calculating a hash digest). There are currently three objects that can be configured to always include their CBOR representation: transaction, (native) scripts and metadatums.</p><table><thead><tr><th>Flag</th><th>Description</th></tr></thead><tbody><tr><td><code>--include-cbor</code></td><td>A shorthand to turn all three other flags on at once.</td></tr><tr><td><code>--include-transaction-cbor</code></td><td>Always include a <code>cbor</code> field on transaction objects</td></tr><tr><td><code>--include-metadata-cbor</code></td><td>Always include a <code>cbor</code> field on metadatum objects</td></tr><tr><td><code>--include-script-cbor</code></td><td>Always include a <code>cbor</code> field on native scripts (already included for Plutus scripts)</td></tr></tbody></table><h2 id=metadata-schema>Metadata schema</h2><p>To keep things <em>simple</em>, Cardano tools oscillate between 2 (or actually 3, but let&rsquo;s not dwell on that right now) metadata formats. One is called the metadata &ldquo;no-schema&rdquo; and the other one is called the &ldquo;detailed schema&rdquo;. In fact, metadata are encoded on-chain as a collection of CBOR objects abiding by a specific schema. Like JSON, CBOR is a self-describing structured serialization format which shares some overlaps with JSON. Thus, a subset of all the representable CBOR metadata can be <em>translated</em> as JSON metadata. For example, a plain CBOR text string can easily be turned into a JSON string, and a CBOR list of integers can also easily become a JSON list of integers.</p><table><tr><th>Default (no schema)</th><th>--metadata-detailed-schema</th></tr><tr><td><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>[<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]
</code></pre></div></td><td><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
  <span style=color:#f92672>&#34;list&#34;</span>:
    [ { <span style=color:#f92672>&#34;int&#34;</span>: <span style=color:#ae81ff>1</span> }
    , { <span style=color:#f92672>&#34;int&#34;</span>: <span style=color:#ae81ff>2</span> }
    , { <span style=color:#f92672>&#34;int&#34;</span>: <span style=color:#ae81ff>3</span> }
    ]
}
</code></pre></div></td></tr></table><p>This type of direct conversions is referred to as the &ldquo;no-schema&rdquo; conversion. Yet, it only works for compatible objects. Indeed, some CBOR-serialized data cannot be directly mapped into JSON. For example, CBOR can use plain maps or lists as objects keys; whereas JSON only ever supports text strings as object keys. To ensure that any CBOR value could be represented in JSON, another transformation was defined as the detailed schema. In a detailed schema, we no longer try to map the CBOR representation into JSON, but we use JSON to <em>describe</em> the shape of the CBOR data using a small domain-specific language designed for that purpose.</p><p>While this approach is more verbose, it allows for representing <em>any</em> binary metadata as JSON. However, since many DApp developers coming from JavaScript/TypeScript will usually produce JSON-compatible metadata, the no-schema format is applicable in many cases. Ogmios therefore uses no-schema as a default (falling back to plain CBOR when the conversion isn&rsquo;t possible). The behavior can be altered to use the detailed schema by passing the flag <code>--metadata-detailed-schema</code>.</p><h2 id=strict-json-rpc>Strict JSON-RPC</h2><p>The specification for <a href=https://www.jsonrpc.org/specification>JSON-RPC 2.0</a> is relatively lenient/ambiguous regarding the presence of extra fields in the request / response payloads. Ogmios in particular adds an extra <code>method</code> to the responses so that they can easily be traced back to the responses. However, some libraries that implement JSON-RPC clients are quite strict and do not expect any fields other than those mentioned in the specs (thus preventing useful extensions!).</p><p>Ogmios, therefore, provides a flag <code>--strict-rpc</code> to disable the extra field in responses thus ensuring compliance with those stricter libraries.</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/getting-started/building/ title="Building / Installation"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/getting-started/docker/ title="Running with Docker" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1708512685></script><script src=/js/perfect-scrollbar.min.js?1708512685></script><script src=/js/perfect-scrollbar.jquery.min.js?1708512685></script><script src=/js/jquery.sticky.js?1708512685></script><script src=/js/featherlight.min.js?1708512685></script><script src=/js/highlight.pack.js?1708512685></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1708512685></script><script src=/js/learn.js?1708512685></script><script src=/js/hugo-learn.js?1708512685></script></body></html>