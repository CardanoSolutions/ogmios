<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.76.5"><meta name=description content="User manual for Ogmios, a lightweight protocol translation service for Cardano."><meta name=author content="KtorZ <matthias.benkort@gmail.com>"><link rel=icon href=/cardano-ogmios/images/favicon.png type=image/png><title>Docker - Ogmios</title><link href=/cardano-ogmios/css/nucleus.css?1613224404 rel=stylesheet><link href=/cardano-ogmios/css/fontawesome-all.min.css?1613224404 rel=stylesheet><link href=/cardano-ogmios/css/hybrid.css?1613224404 rel=stylesheet><link href=/cardano-ogmios/css/featherlight.min.css?1613224404 rel=stylesheet><link href=/cardano-ogmios/css/perfect-scrollbar.min.css?1613224404 rel=stylesheet><link href=/cardano-ogmios/css/auto-complete.css?1613224404 rel=stylesheet><link href=/cardano-ogmios/css/atom-one-dark-reasonable.css?1613224404 rel=stylesheet><link href=/cardano-ogmios/css/theme.css?1613224404 rel=stylesheet><link href=/cardano-ogmios/css/hugo-theme.css?1613224404 rel=stylesheet><script src=/cardano-ogmios/js/jquery-3.3.1.min.js?1613224404></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/cardano-ogmios/getting-started/docker/><nav id=sidebar><div id=header-wrapper><div id=header><a href=/cardano-ogmios><img alt=ogmios src=/cardano-ogmios/ogmios-logo-white.png></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/cardano-ogmios/js/lunr.min.js?1613224404></script><script type=text/javascript src=/cardano-ogmios/js/auto-complete.js?1613224404></script><script type=text/javascript>var baseurl="https:\/\/ktorz.github.io\/cardano-ogmios\/";</script><script type=text/javascript src=/cardano-ogmios/js/search.js?1613224404></script></div><div class=highlightable><ul class=topics><li data-nav-id=/cardano-ogmios/getting-started/ title="Getting Started" class="dd-item
parent"><a href=/cardano-ogmios/getting-started/><b>1. </b>Getting Started</a><ul><li data-nav-id=/cardano-ogmios/getting-started/docker/ title=Docker class="dd-item active"><a href=/cardano-ogmios/getting-started/docker/>Docker</a></li><li data-nav-id=/cardano-ogmios/getting-started/building/ title=Building class=dd-item><a href=/cardano-ogmios/getting-started/building/>Building</a></li><li data-nav-id=/cardano-ogmios/getting-started/testing/ title=Testing class=dd-item><a href=/cardano-ogmios/getting-started/testing/>Testing</a></li><li data-nav-id=/cardano-ogmios/getting-started/basics/ title=Basics class=dd-item><a href=/cardano-ogmios/getting-started/basics/>Basics</a></li></ul></li><li data-nav-id=/cardano-ogmios/mini-protocols/ title="Ouroboros Mini-Protocols" class=dd-item><a href=/cardano-ogmios/mini-protocols/><b>2. </b>Ouroboros Mini-Protocols</a><ul><li data-nav-id=/cardano-ogmios/mini-protocols/local-chain-sync/ title="Local Chain Sync" class=dd-item><a href=/cardano-ogmios/mini-protocols/local-chain-sync/>Local Chain Sync</a></li><li data-nav-id=/cardano-ogmios/mini-protocols/local-tx-submission/ title="Local Tx Submission" class=dd-item><a href=/cardano-ogmios/mini-protocols/local-tx-submission/>Local Tx Submission</a></li><li data-nav-id=/cardano-ogmios/mini-protocols/local-state-query/ title="Local State Query" class=dd-item><a href=/cardano-ogmios/mini-protocols/local-state-query/>Local State Query</a></li></ul></li><li data-nav-id=/cardano-ogmios/deployment/ title=Deployment class=dd-item><a href=/cardano-ogmios/deployment/><b>3. </b>Deployment</a><ul><li data-nav-id=/cardano-ogmios/deployment/aws/ title=AWS class=dd-item><a href=/cardano-ogmios/deployment/aws/>AWS</a></li></ul></li><li data-nav-id=/cardano-ogmios/api-reference/ title="API Reference" class=dd-item><a href=/cardano-ogmios/api-reference/><b>4. </b>API Reference</a></li></ul><section id=footer><center><a href=https://github.com/KtorZ/cardano-ogmios><i class="fab fa-github" style=font-size:3em></i></a></center></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/cardano-ogmios/>Overview</a> > <a href=/cardano-ogmios/getting-started/>Getting Started</a> > Docker</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#heading>üê≥</a><ul><li><a href=#configuration>Configuration</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Docker</h1><h2 id=heading>üê≥</h2><p>The easiest way to get started is to use <a href=https://www.docker.com/>docker</a>. This guide won&rsquo;t cover installing docker, so make sure you have the docker daemon installed and running. Since Ogmios requires the presence of a Cardano node, we&rsquo;ll be using <a href=https://docs.docker.com/compose/>docker-compose</a> to orchestrate both services. A compose file is available on the Ogmios repository, get it via:</p><pre><code class=language-console data-lang=console>$ wget https://raw.githubusercontent.com/KtorZ/cardano-ogmios/master/docker-compose.yml -O docker-compose.yml
</code></pre><p>Then, starts the components stack using:</p><pre><code class=language-console data-lang=console>$ docker-compose up
</code></pre><p>üëÜThis will run and connect together:</p><ul><li>A <a href=https://github.com/input-output-hk/cardano-node/>Cardano node</a>, connected to mainnet.</li><li>An Ogmios server using the <a href=https://hub.docker.com/r/ktorz/ogmios>latest Dockerhub build</a>, listening to localhost on port :1337.</li></ul><p>To build the Ogmios image from sources, pass the <code>--build</code> flag. This is useful if you need a different version than the latest one available on Dockerhub.</p><h3 id=configuration>Configuration</h3><p>The compose file allows for minimal (albeit useful) configuration parameters via environment variables:</p><table><thead><tr><th>Variable</th><th>Description</th><th>Values</th><th>Default</th></tr></thead><tbody><tr><td><code>NETWORK</code></td><td>Which Cardano network to connect to. This impacts both Ogmios and the underlying Cardano node.</td><td><code>mainnet</code>, <code>testnet</code></td><td><code>mainnet</code></td></tr><tr><td><code>OGMIOS_PORT</code></td><td>Which ports to listen to (both for WebSockets and health endpoints)</td><td>Any valid port number.</td><td><code>1337</code></td></tr></tbody></table><div class="notices info"><p>Ogmios doesn&rsquo;t use any form of persistent storage, but cardano-node does. The mainnet and testnet databases are not compatible, so it is recommended to instrument docker-compose to use different namespaces for different networks (so that you can switch from one another without risking any database conflicts). Compose can do this easily by passing an extra flag: <code>--project-name</code>.</p></div><p>For example, for running cardano-node + ogmios on the testnet, listening to tcp/1338, do:</p><pre><code class=language-console data-lang=console>$ NETWORK=testnet OGMIOS_PORT=1338 docker-compose --project-name cardano-ogmios-testnet up
</code></pre><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/cardano-ogmios/getting-started/ title="Getting Started"><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/cardano-ogmios/getting-started/building/ title=Building style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/cardano-ogmios/js/clipboard.min.js?1613224404></script><script src=/cardano-ogmios/js/perfect-scrollbar.min.js?1613224404></script><script src=/cardano-ogmios/js/perfect-scrollbar.jquery.min.js?1613224404></script><script src=/cardano-ogmios/js/jquery.sticky.js?1613224404></script><script src=/cardano-ogmios/js/featherlight.min.js?1613224404></script><script src=/cardano-ogmios/js/highlight.pack.js?1613224404></script><script>hljs.initHighlightingOnLoad();</script><script src=/cardano-ogmios/js/modernizr.custom-3.6.0.js?1613224404></script><script src=/cardano-ogmios/js/learn.js?1613224404></script><script src=/cardano-ogmios/js/hugo-learn.js?1613224404></script></body></html>